$(function(){




    /* Delete Field data */
    $(document).on('click', '.btn_delete', function(event){
                    event.preventDefault();
                    var tbl_row = $(this).closest('tr');

                    var row_id = tbl_row.attr('row_id');

                    //--->get row data > start
                    var arr = {};
                    tbl_row.find('.row_data').each(function(index, val)
                    {
                        var col_name = $(this).attr('col_name');
                        var col_val  =  $(this).html();
                        arr[col_name] = col_val;
                    });

                    //--->get row data > end
                    $.extend(arr, {objtype:"malware-family"});
                    //submit to db : ajax post
                    var sendData = JSON.stringify(arr, null, 2);
                     $.ajax({
                        url: '/deletefielddata',
                        data: sendData,
                        type: 'POST',
                        contentType: 'application/json;charset=UTF-8',
                        dataType: 'json',
                        success: function(response) {
                            window.location.reload();

                            console.log(response);
                        },
                        error: function(error) {

                            console.log(error);
                        }
                    });


    });

     /* common code references */
    $(document).on('click', '.btn_delete1', function(event){
                    event.preventDefault();
                    var tbl_row = $(this).closest('tr');

                    var row_id = tbl_row.attr('row_id2');

                    //--->get row data > start
                    var arr = {};
                    tbl_row.find('.row_data').each(function(index, val)
                    {
                        var col_name = $(this).attr('col_name');
                        var col_val  =  $(this).html();
                        arr[col_name] = col_val;
                    });

                    //--->get row data > end
                    $.extend(arr, {objtype:"malware-family"});
                    //submit to db : ajax post
                    var sendData = JSON.stringify(arr, null, 2);
                     $.ajax({
                        url: '/delete_artifact',
                        data: sendData,
                        type: 'POST',
                        contentType: 'application/json;charset=UTF-8',
                        dataType: 'json',
                        success: function(response) {
                            window.location.reload();

                            console.log(response);
                        },
                        error: function(error) {

                            console.log(error);
                        }
                    });


    });

     /* capability */
    $(document).on('click', '.btn_delete2', function(event){
                    event.preventDefault();
                    var tbl_row = $(this).closest('tr');

                    var row_id = tbl_row.attr('row_id3');

                    //--->get row data > start
                    var arr = {};
                    tbl_row.find('.row_data').each(function(index, val)
                    {
                        var col_name = $(this).attr('col_name');
                        var col_val  =  $(this).html();
                        arr[col_name] = col_val;
                    });

                    //--->get row data > end
                    $.extend(arr, {objtype:"malware-family"});
                    //submit to db : ajax post
                    var sendData = JSON.stringify(arr, null, 2);
                     $.ajax({
                        url: '/deletecapability',
                        data: sendData,
                        type: 'POST',
                        contentType: 'application/json;charset=UTF-8',
                        dataType: 'json',
                        success: function(response) {
                            window.location.reload();

                            console.log(response);
                        },
                        error: function(error) {

                            console.log(error);
                        }
                    });


    });

     /* References */
    $(document).on('click', '.btn_delete3', function(event){
                    event.preventDefault();
                    var tbl_row = $(this).closest('tr');

                    var row_id = tbl_row.attr('row_id4');

                    //--->get row data > start
                    var arr = {};
                    tbl_row.find('.row_data').each(function(index, val)
                    {
                        var col_name = $(this).attr('col_name');
                        var col_val  =  $(this).html();
                        arr[col_name] = col_val;
                    });

                    //--->get row data > end
                    $.extend(arr, {objtype:"malware-family"});
                    //submit to db : ajax post
                    var sendData = JSON.stringify(arr, null, 2);
                     $.ajax({
                        url: '/deleteextrefdata',
                        data: sendData,
                        type: 'POST',
                        contentType: 'application/json;charset=UTF-8',
                        dataType: 'json',
                        success: function(response) {
                            window.location.reload();

                            console.log(response);
                        },
                        error: function(error) {

                            console.log(error);
                        }
                    });


    });

});